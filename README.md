# nio-framework
Проектная работа курса OTUS "Java-разработчик"
Минималистичный фреймворк,на основе проверенных архитектурных решений (netty и vert.x) позволяющий быстро создать высоконагруженный 
event-driven non-blocking http-сервис со своей бизнес-логикой

Инструкции по тестовому прогону проекта nio-framework, состоящего из 3х частей:
1) Установить nio-framework в локальную папку .m2 (clean install)
2) Запустить nio-framework-server: запуск main-класса NettyMain, либо сборка jar мавеном (clean package) и запуск из командной строки
3) Запустить nio-framework-client: запуск main-класса HttpIoClient, либо сборка jar мавеном (clean package) и запуск из командной строки

Функционал фреймворка:
1) BossEventLoop поднимает сокет сервиса, начинающего accept новых соединений и биндит его к порту 8080
2) Новые соединения передаются в WorkerEventLoop для отслеживания read/write событий
3) При событии чтения WorkerEventLoop собирает http-request как строку
4) Парсит пришедший запрос, выделяя url и httpPayload, запоминает сокет куда нужно отдать ответ и создает RequestContext, необходимый для Router
5) На основе настроенных роутеров по параметру url определяет в какой пайплайн отдать httpPayload и RequestContext
httpPayload проходит цепочку изменений, настроенных пользователем
6) WorkerEventLoop во время выполнения пайплайна периодически проверяет готова ли задача и когда готова начинает прослушивать write событие по сокету из которого пришел запрос, доставая его и сформированный ответ из RequestContext
7) Когда на этом сокете произойдет событие write WorkerEventLoop сгенерирует httpResponse как строку, начнет записывать ответ напрямую в сокет и закроет текущий сокет
